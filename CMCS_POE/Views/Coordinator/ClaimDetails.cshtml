@model CMCS_POE.Models.Claim

@{
    ViewData["Title"] = "Claim Details";
}

<h2>Claim Details</h2>

<div class="card p-3 mt-3">
    <h4>Lecturer Information</h4>
    <p><strong>Name:</strong> @Model.Lecturer?.FirstName @Model.Lecturer?.LastName</p>
    <p><strong>Email:</strong> @Model.Lecturer?.Email</p>
</div>

<div class="card p-3 mt-3">
    <h4>Claim Information</h4>
    <p><strong>Hours Worked:</strong> @Model.HoursWorked</p>
    <p><strong>Hourly Rate:</strong> @Model.HourlyRate</p>
    <p><strong>Status:</strong> @Model.Status</p>
    <p><strong>Submission Date:</strong> @Model.SubmissionDate.ToString("yyyy-MM-dd")</p>
    <p><strong>Notes:</strong> @Model.Notes</p>
</div>

<div class="card p-3 mt-3">
    <h4>Uploaded Documents</h4>

    @if (Model.DocumentUploads != null && Model.DocumentUploads.Any())
    {
        <ul>
            @foreach (var doc in Model.DocumentUploads)
            {
                <li>
                    <a href="@doc.FilePath" target="_blank">@doc.FileName</a>
                </li>
            }
        </ul>
    }
    else
    {
        <p>No documents uploaded.</p>
    }
</div>

<div class="mt-3">

    <form asp-action="Approve" asp-route-id="@Model.Id" method="post" style="display:inline;">
        <button type="submit" class="btn btn-success">Approve</button>
    </form>

    <form asp-action="Reject" asp-route-id="@Model.Id" method="post" style="display:inline;">
        <button type="submit" class="btn btn-danger">Reject</button>
    </form>

    <a class="btn btn-secondary" asp-action="AllClaims">Back to All Claims</a>
</div>

